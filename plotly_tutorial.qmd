---
title: "Plotly tutorial"
format:  
  revealjs:
    slide-number: true
    theme: theme/dsfe_theme.scss
    code-copy: false
    output-location: column
    code-line-numbers: false
revealjs-plugins:
  - detective
jupyter: python3
highlight-style: "dracula"
brand: brand/_dsfe_brand.yml
execute:
  echo: true
---

## Plotly

-  Basics
-  Customization
-  Annotations
-  Subplots
-  Layering
-  Buttons

::: notes
Hello everyone. Welcome to Data Science for everyone. Today we're diving into interactive visualization using Plotly in Python.

I will start with the basics of plotly, the move on to customization and annotations, I will show you how to make subplots with layering and I will end by showing you how to place buttons on your plots—let's get started!
:::

# Basics

## A simple bar plot

```{python}
import plotly.express as px
```

::: notes
Let me start by showing you how to make a simple bar plot. We'll import plotly express using the standard alias 'px'.
:::

## A simple bar plot

:::{.detective data-detective-search="days, sleep_hours"}
```{python}
import plotly.express as px

days = ["Mon", "Tue", "Wed"]
sleep_hours = [8, 5, 10]
```
:::

::: notes
I have created two lists here: days and sleep hours corresponding to the days.
:::

## A simple bar plot

:::{.detective data-detective-search="bar"}
```{python}
#| eval: false
import plotly.express as px

days = ["Mon", "Tue", "Wed"]
sleep_hours = [8, 5, 10]

fig = px.bar(


)
```
:::

::: notes
To make a simple bar plot we will call the function bar.
:::

## A simple bar plot

:::{.detective data-detective-search="x, y"}
```{python}
#| eval: false
import plotly.express as px

days = ["Mon", "Tue", "Wed"]
sleep_hours = [8, 5, 10]

fig = px.bar(
  x = days, 
  y = sleep_hours
)
```
:::

::: notes
Inside bar we will specify x and y arugments mapped to days and sleep hours respectively.
:::

## A simple bar plot

:::{.detective data-detective-search="fig.show"}
```{python}
import plotly.express as px

days = ["Mon", "Tue", "Wed"]
sleep_hours = [8, 5, 10]

fig = px.bar(
  x = days, 
  y = sleep_hours
)
fig.show()
```
:::

::: notes
As soon as we call fig.show the plot is displayed. And just like that a few simple lines of code gives us a bar chart in plotly.
:::

## Adding a title

:::{.detective data-detective-search="title"}
```{python}
import plotly.express as px

days = ["Mon", "Tue", "Wed"]
sleep_hours = [8, 5, 10]

fig = px.bar(
  x = days, 
  y = sleep_hours, 
  title = "Hours of sleep"
)
fig.show()
```
:::

::: notes
To add a title to the plot, we can call the title argument inside bar and place our desired title in quotes.
:::

## A `pandas` dataframe

:::{.detective data-detective-search="DataFrame"}
```{python}
#| eval: false
import pandas as pd

sleep = pd.DataFrame({
  

})
```
:::

::: notes
A pandas dataframe can also be used in plotly. Let me show you how. We first need to import pandas as standard alias pd. Then we call the dataframe function and name it as sleep.
:::

## A `pandas` dataframe

:::{.detective data-detective-search="DataFrame"}
```{python}
#| eval: false
import pandas as pd

sleep = pd.DataFrame({
  "day": ["Mon", "Tue", "Wed"],
  "sleep_hours": [8, 5, 10]
})
```
:::

::: notes
We add two columns: day and sleep hours and include to list with each with the relevant contents as before.
:::

## A `pandas` dataframe

:::{.detective data-detective-search="data_frame"}
```{python}
import pandas as pd

sleep = pd.DataFrame({
  "day": ["Mon", "Tue", "Wed"],
  "sleep_hours": [8, 5, 10]
})

fig = px.bar(
  data_frame = sleep,
  x = days, 
  y = sleep_hours, 
  title = "Hours of sleep"
)
fig.show()
```
:::

::: notes
To use this dataframe inside plotly, we need to use an agrument called data underscore frame and the rest is the same as before.
:::

## Inside a `plotly` figure {.smaller}

```{python}
#| output-location: default
print(fig)
```

::: notes
Let's peek under the hood to understand how Plotly structures its figures. Every figure has three core components. First is layout—this dictionary holds all the styling attributes like fonts, colors, and axis properties. Each figure has exactly one layout. Next is data—this is actually a list of dictionaries that sets up the type of graph and the data to display. where each entry defines a trace. The combination of data and type is called a trace. One can have multiple traces per plot. We will look at traces later in the tutorial.
:::

## Plotly is interactive

![](images/buttons.png)

::: notes
Every plot we create automatically comes with built-in interactive features on the top right hand side. When we hover over any data point, a tooltip pops up showing the exact values. These buttons let us download your plot as a static image, zoom into specific regions, pan around, select data points, and even toggle between different view modes. All of this functionality is included by default—we don't have to write a single extra line of code.
:::

# Univariate visualizations

::: notes
Now that we have learnt some basics of plotly lets look at Univariate visualization. Univariate visualizations are visualizations on datasets that have one variable. Lets focus on two most common plots types for univariate data visualizations. The first is a histogram.
:::

## A histogram

```{python}
#| echo: false
iris = pd.read_csv("data/iris.csv")
fig = px.histogram(
  data_frame = iris,
  x = "Petal.Length",
)
fig.show()
```

::: notes
Histograms might look a lot like bar charts at first glance, but they group numeric values into ranges, called bins. Each bar shows how many data points fall inside a particular interval, and the bar height can represent counts or other summaries like sums or averages. Lets look at an example.
:::

## A histogram

:::{.detective data-detective-search="read_csv"}
```{python}
#| output-location: default
iris = pd.read_csv("data/iris.csv")
print(iris.head())
```
:::

::: notes
Lets bring in the iris dataset. We will use the read csv function from pandas. The iris dataset contains sepal and petal lengths of three different species of iris flowers. The link to the data is in the description below.
:::

## A histogram

:::{.detective data-detective-search="histogram"}
```{python}
iris = pd.read_csv("data/iris.csv")

fig = px.histogram(
  data_frame = iris,
  x = "Petal.Length",
)
fig.show()
```
:::

::: notes
To make a histogram we need to use the histogram function. Inside we pass in the DataFrame, pick the column we want on the x-axis; in this case petal lengths. Calling fig.show generates the histogram.
:::

## Adjusting bin size

:::{.detective data-detective-search="nbins"}
```{python}
iris = pd.read_csv("data/iris.csv")

fig = px.histogram(
  data_frame = iris,
  x = "Petal.Length", 
  nbins = 20
)
fig.show()
```
:::

::: notes
There are a few handy options you can pass to the histogram function to customize how it behaves. For example, we can change the number of bins using the nbin argument. I have set the nbins to 20.If you want even more control over binning and appearance, the Plotly documentation is a great place to explore further. We will look at customization later in the tutorial.
:::

## Box plots

![](images/buttons.png)

::: notes
Another common visualization plot for univariate data is boxplot. A boxplot squeezes a lot of distribution information into a compact shape. The main box spans from the first quartile up to the third quartile, showing the middle 50% of the data, with a line in the middle that marks the median. The whiskers extend toward the lower and upper values, but they typically stop before extreme points, which show up as separate dots and are treated as potential outliers based on a standard rule involving the interquartile range.
:::

## Box plots

:::{.detective data-detective-search="box"}
```{python}
fig = px.box(
  data_frame = iris,
  y = "Sepal.Width",
)
fig.show()
```
:::

::: notes
Let’s draw a box plot for sepal width using Plotly. The function box takes our DataFrame and the column to plot, which we’ll feed into the y argument to get a vertical box. This gives a quick visual summary of typical petal lengths, the spread of the data, and any sepal that look unusually short or long.
:::

## Adding points with boxplot

:::: {.columns}

::: {.column width="50%"}

:::{.detective data-detective-search="points"}
```{python}
#| eval: false
#| output-location: default
fig = px.box(
  data_frame = iris,
  y = "Sepal.Width",
  points="all"
)
fig.show()
```
:::

:::

::: {.column width="50%"}
![](images/box_1.png)
:::

::::

::: notes
Box plots also come with some useful options to add more context. With the points argument set to all, we can include a point plot beside the boxplot. Hovering mouse over these points tells us value of each sepal width. But there is an issue. The iris dataset contains three species of iris flowers. Hovering over each point shows us the sepal width but not the species. Lets fix that.
:::

## Adjust hover data

:::: {.columns}

::: {.column width="50%"}

:::{.detective data-detective-search="hover_data"}
```{python}
#| eval: false
#| output-location: default
fig = px.box(
  data_frame = iris,
  y = "Sepal.Width",
  points="all",
  hover_data=["Species"]
)
fig.show()
```
:::

:::

::: {.column width="50%"}
![](images/box_2.png)
:::

::::

::: notes
With the hover_data argument, we can include extra columns so that hovering over a point reveals the corresponding species or other details. As we can see I have set the hover data argument to species. Now if we hover our mouse over any point it gives us the species name along with the sepal width values.
:::

## Boxplots

:::{.detective data-detective-search="x, Species"}
```{python}
fig = px.box(
  data_frame = iris,
  x = "Species",
  y = "Sepal.Width"
)
fig.show()
```
:::

::: notes
Setting x to Species we can brake down the boxplot into three species. As we can see versicolor species has the smallest sepal widths among the three species.
:::

# Customization

## Adding color scales

```{python}
#| echo: false

sleep = pd.DataFrame({
  "day": days,
  "sleep_hours": sleep_hours
})
```

:::{.detective data-detective-search="color"}
```{python}
fig = px.bar(
  data_frame = sleep,
  x = "day", 
  y = "sleep_hours", 
  color = "day"
)
fig.show()
```
:::

## Customize color scales

:::{.detective data-detective-search="color_discrete_map"}
```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color_discrete_map={
    "Mon": "rgb(0, 0, 255)",
    "Tue": "rgb(0, 255,0)",
    "Wed": "rgb(255, 0, 0)"
  },
  color = "day"
)
fig.show()
```
:::

## Customize color scales

:::{.detective data-detective-search="my_colors"}
```{python}
my_colors = {
    "Mon": "rgb(0, 0, 255)",
    "Tue": "rgb(0, 255,0)",
    "Wed": "rgb(255, 0, 0)"
  }
```
:::

## Customize color scales

:::{.detective data-detective-search="color_discrete_map, my_colors"}
```{python}
my_colors = {
    "Mon": "rgb(0, 0, 255)",
    "Tue": "rgb(0, 255,0)",
    "Wed": "rgb(255, 0, 0)"
  }
fig = px.box(
  data_frame=px.data.iris(),
  x = "species",
  y = "petal_length",
  title = "Hours of sleep",
  color_discrete_map=my_colors,
  color = "species"
)
fig.show()
```
:::

## Preset colors {.smaller}

:::{.detective data-detective-search="inferno"}
```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color_continuous_scale = "inferno",
  color = "sleep_hours"
)
fig.show()
```
:::

## Customize color scales {.smaller}

:::{.detective data-detective-search="custom_color"}
```{python}
custom_color = [
  ("rgb(0, 0, 255)"),
  ("rgb(0, 255,0)"),
  ("rgb(255, 0, 0)")
]
```
:::

## Customize color scales {.smaller}

:::{.detective data-detective-search="custom_color"}
```{python}
custom_color = [
  ("rgb(0, 0, 255)"),
  ("rgb(0, 255,0)"),
  ("rgb(255, 0, 0)")
]
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color_continuous_scale = custom_color,
  color = "sleep_hours"
)
fig.show()
```
:::

## Scatter plots

:::{.detective data-detective-search="scatter"}
```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length"
)
fig.show()
```
:::

## Symbols

:::{.detective data-detective-search="symbol"}
```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length",
  symbol="Species"
)
fig.show()
```
:::

## Adding colors with symbols

:::{.detective data-detective-search="symbol, color"}
```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length",
  symbol="Species",
  color="Species"
)
fig.show()
```
:::

## Scatter plot with trendline

:::{.detective data-detective-search="trendline, ols"}
```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length",
  symbol="Species",
  color="Species",
  trendline = "ols"
)
fig.show()
```
:::

## Line plot

:::{.detective data-detective-search="line"}
```{python}
stocks = pd.read_csv("data/stocks.csv")

fig = px.line(
  data_frame = stocks,
  x = "Date",
  y = "MSFT"
)
fig.show()
```
:::

## Correlation plot

:::{.detective data-detective-search="drop"}
```{python}
#| eval: false
#| output-location: default
# Remove species column from iris dataset
iris_2 = iris.drop("Species", axis = 1)
```
:::

## Correlation plot

:::{.detective data-detective-search="corr"}
```{python}
#| output-location: default
# Remove species column from iris dataset
iris_2 = iris.drop("Species", axis = 1)

iris_corr = iris_2.corr(method="pearson")

print(iris_corr)
```
:::

## Correlation plot

:::{.detective data-detective-search="imshow"}
```{python}
fig = px.imshow(
  iris_corr,
)
fig.show()
```
:::

## Correlation plot

:::{.detective data-detective-search="text_auto"}
```{python}
fig = px.imshow(
  iris_corr,
  text_auto=True,
)
fig.show()
```
:::

## Correlation plot

:::{.detective data-detective-search="color_continuous_scale"}
```{python}
fig = px.imshow(
  iris_corr,
  text_auto=True,
  color_continuous_scale="RdYlGn"
)
fig.show()
```
:::

## Correlation plot

:::{.detective data-detective-search="zmin, zmax"}
```{python}
fig = px.imshow(
  iris_corr,
  text_auto=True,
  color_continuous_scale="RdYlGn",
  zmin = -1, zmax = 1
)
fig.show()
```
:::

## Hover information

```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length"
)
fig.show()
```

## Hover information

:::{.detective data-detective-search="hover_data"}
```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length",
  hover_data=["Species"]
)
fig.show()
```
:::

## Customize hover information

:::{.detective data-detective-search="update_layout"}
```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length",
  hover_data=["Species"]
)

fig.update_layout(



)
fig.show()
```
:::

## Customize hover information

:::{.detective data-detective-search="hoverlabel"}
```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length",
  hover_data=["Species"]
)

fig.update_layout(
  hoverlabel=dict(
    bgcolor="white",
    font_size=16,
    font_family="Rockwell"
  )
)
fig.show()
```
:::

## Plot legend

```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length",
  symbol="Species",
  color="Species"
)
fig.show()
```

## Style plot legend

:::{.detective data-detective-search="my_legend"}
```{python}
my_legend = dict(
  x=0.2,
  y=0.95, 
  bgcolor="rgb(240, 229, 111)"
)
```
:::

## Style plot legend

:::{.detective data-detective-search="showlegend, legend"}
```{python}
my_legend = dict(
  x=0.2,
  y=0.95, 
  bgcolor="rgb(240, 229, 111)"
)

fig.update_layout(
  showlegend=True, 
  legend=my_legend
)
fig.show()
```
:::

# Annotations

## Arrows

```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color = "day"
)
```

## Arrows

:::{.detective data-detective-search="less, showarrow, arrowhead"}
```{python}
less = dict(
    x="Tue", y=5, 
    text="Less sleep",
    font=dict(color="black"), 
    showarrow=True, arrowhead=4
)
```
:::

## Arrows {.smaller}

:::{.detective data-detective-search="annotations"}
```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color = "day"
)

fig.update_layout(annotations=[less])

fig.show()
```
:::

## Multiple annotations

:::{.detective data-detective-search="more"}
```{python}
less = dict(
    x="Tue", y=5, 
    text="Less sleep",
    font=dict(color="black"), 
    showarrow=True, arrowhead=4
)

# Create the second annotation
more = dict(
    x="Wed", y=10, 
    text="More sleep",
    font=dict(color="black"), 
    showarrow=True, arrowhead=4,
)
```
:::

## Multiple annotations {.smaller}

:::{.detective data-detective-search="less, more"}
```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color = "day"
)

fig.update_layout(annotations=[less, more])

fig.show()
```
:::

## Annotations texts

:::{.detective data-detective-search="text, showarrow"}
```{python}
h_sleep = 8
msg = dict(
  x="Tue", y=9,
  text=f"Mon: {h_sleep} hours",
  font=dict(
    size=20, 
    color="white"
  ),
  bgcolor="rgb(237, 64, 200)", 
  showarrow=False
)
```
:::

## Annotations texts {.smaller}

:::{.detective data-detective-search="annotations"}
```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color = "day"
)

fig.update_layout(annotations = [msg])

fig.show()
```
:::

## Annotations texts

:::{.detective data-detective-search="xref, yref"}
```{python}
h_sleep = 8
msg = dict(
  x=0.05, y=0.9, 
  xref="paper", yref="paper",
  text=f"Mon: {h_sleep} hours",
  font=dict(
    size=20, 
    color="white"
  ),
  bgcolor="rgb(237, 64, 200)", 
  showarrow=False
)
```
:::

## Annotations texts {.smaller}

```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color = "day"
)

fig.update_layout(annotations = [msg])

fig.show()
```

## Axis labels {.smaller}

:::{.detective data-detective-search="update_xaxes, update_yaxes"}
```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color = "day"
)

fig.update_xaxes(title_text="Day")
fig.update_yaxes(title_text="Time (hours)")

fig.show()
```
:::

## Axis labels {.smaller}

:::{.detective data-detective-search="update_layout, xaxis, yaxis"}
```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color = "day"
)

fig.update_layout(dict(
  xaxis=dict(title = dict(text="Day")),
  yaxis=dict(title = dict(text="Time (hours)"))
))

fig.show()
```
:::

## Axis labels {.smaller}

:::{.detective data-detective-search="title, range"}
```{python}
fig = px.bar(
  data_frame=sleep,
  x = "day", 
  y = "sleep_hours", 
  title = "Hours of sleep",
  color = "day"
)

fig.update_layout(dict(
  xaxis=dict(title = dict(text="Day")),
  yaxis=dict(
    title = dict(text="Time (hours)"),
    range = [4, 15]
  )
 )
)

fig.show()
```
:::

## Axis transformation

:::{.detective data-detective-search="log_y"}
```{python}
fig = px.scatter(
  data_frame = iris,
  x = "Sepal.Length",
  y = "Petal.Length",
  color="Species",
  log_y= True
)

fig.show()
```
:::

# Subplots

## Subplots {.smaller}

:::{.detective data-detective-search="plotly.subplots, make_subplots"}
```{python}
import plotly.express as px
from plotly.subplots import make_subplots
```
:::

## Subplots {.smaller}

```{python}
import plotly.express as px
from plotly.subplots import make_subplots

fig = make_subplots(rows=2, cols=1)
```

## Subplots {.smaller}

:::{.detective data-detective-search="histogram, box"}
```{python}
import plotly.express as px
from plotly.subplots import make_subplots

fig = make_subplots(rows=2, cols=1)

hist = px.histogram(
  data_frame = iris, x='Petal.Length'
)

box = px.box(
 data_frame = iris, x='Petal.Length'
)
```
:::

## Subplots {.smaller}

:::{.detective data-detective-search="add_trace"}
```{python}
import plotly.express as px
from plotly.subplots import make_subplots

fig = make_subplots(rows=2, cols=1)

hist = px.histogram(
  data_frame = iris, x='Petal.Length'
)

box = px.box(
 data_frame = iris, x='Petal.Length'
)

fig.add_trace(hist.data[0], row=1, col=1)
fig.add_trace(box.data[0], row=2, col=1)

fig.show()
```
:::

## Stacked subplots {.smaller}

```{python}
fig = make_subplots(
    rows=3, cols=1,
    subplot_titles=\
      ['Setosa', 'Versicolor', 'Virginica']
)

row_num = 1

for species in\
   ['setosa', 'versicolor', 'virginica']:
    df = iris[iris['Species'] == species]
    scatter = px.scatter(
      df, x='Petal.Length', y='Sepal.Length'
    )
    fig.add_trace(
      scatter.data[0], 
      row=row_num, 
      col=1
    )
    row_num += 1

fig.show()
```

## Shared axes {.smaller}

:::{.detective data-detective-search="shared_xaxes"}
```{python}
fig = make_subplots(
    rows=3, cols=1,
    subplot_titles=\
      ['Setosa', 'Versicolor', 'Virginica'],
    shared_xaxes=True
)

row_num = 1

for species in\
   ['setosa', 'versicolor', 'virginica']:
    df = iris[iris['Species'] == species]
    scatter = px.scatter(
      df, x='Petal.Length', y='Sepal.Length'
    )
    fig.add_trace(
      scatter.data[0], 
      row=row_num, 
      col=1
    )
    row_num += 1

fig.show()
```
:::

# Layering

## Layering plots

:::{.detective data-detective-search="plotly.graph_objects, Figure"}
```{python}
#| output-location: default
from plotly.graph_objects import Figure

weather = pd.read_csv("data/weather.csv")

scatter_fig = px.scatter(
  weather, 
  x='DATE', y='Boston'
)

line_fig = px.line(
  weather, 
  x='DATE', y='Houston',
  color_discrete_sequence=['green']
)
```
:::

## Layering plots

:::{.detective data-detective-search="Figure"}
```{python}
#| output-location: default
combined_fig = Figure(data=[*scatter_fig.data, *line_fig.data])
```
:::

## Layering plots

:::{.detective data-detective-search="update_layout"}
```{python}
#| output-location: default
combined_fig = Figure(data=[*scatter_fig.data, *line_fig.data])
combined_fig.update_layout(title='USA city temperatures')
```
:::

## Adding more layers

```{python}
#| output-location: default
line_fig_seattle = px.line(
  weather, 
  x='DATE', y='Seattle',
  color_discrete_sequence=['orange']
)
```

## Adding more layers

:::{.detective data-detective-search="add_trace"}
```{python}
#| output-location: default
combined_fig.add_trace(line_fig_seattle.data[0])
combined_fig.update_layout(title='USA city temperatures')
```
:::

# Buttons

## Creating date buttons {.smaller}

```{python}
#| output-location: default
date_buttons = [
{'count': 6, 'label': "6MTH", 'step': "month", 'stepmode': "todate"},
{'count': 6, 'label': "6WTD", 'step': "day", 'stepmode': "backward"},
{'count': 1, 'label': "YTD", 'step': "year", 'stepmode': "todate"}]
```

## Creating date buttons {.smaller}

```{python}
#| output-location: default
date_buttons = [
{'count': 6, 'label': "6MTH", 'step': "month", 'stepmode': "todate"},
{'count': 6, 'label': "6WTD", 'step': "day", 'stepmode': "backward"},
{'count': 1, 'label': "YTD", 'step': "year", 'stepmode': "todate"}]

fig = px.line(
  weather, 
  x='DATE',
  y='Boston'
)
```

## Creating date buttons

```{python}
#| output-location: default
fig.update_layout(dict(
    xaxis=dict(
      rangeselector=dict(buttons=date_buttons)
    )))

fig.show()
```

# Thank you

::: notes

:::